
UART设计
===============
UART模块主要由波特率产生部分，接收数据的串并转换部分，发送数据的并串转换部分，发送数据FIFO的控制部分，接收数据FIFO的控制部分等组成。

## 文件结构

* UART_TOP.v---------------------uart模块top层
	* UART_BAUD.v--------------波特率产生模块
	* UART_RX.v-----------------数据接收模块
		* UART_FIFO.v----------RX FIFO模块
	* UART_TX.v-----------------数据发送模块
		* UART_FIFO.v----------TX FIFO模块
	* UART_REG_IF.v------------寄存器配置模块


## 设计功能与数据流

* 发送和接收数据通路
	* 发送数据时，UART模块会将需发送数据寄存器的数据先放到发送FIFO中，再从发送FIFO中取数据，送到发送数据部分。
	* 接收数据时，UART模块将接收数据部分收到的数据，放到接收FIFO中，再由CPU从接收数据寄存器读取。如果接收数据后，判断校验位或停止位出错，则数据不会放入接收FIFO中，状态寄存器会有相应指示。
* FIFO
	* UART模块内部发送FIFO和接收FIFO分别有16字节深度，TX中断触发深度可设置为0到8，RX中断触发深度可设置为1到8。
	* 发送FIFO的触发是发送FIFO的数据深度小于或等于设定数目的数据时，产生TX中断信号，通知ARM核向发送FIFO写入新数据
	* 接收FIFO的触发是接收FIFO中数据深度大于或等于设定数目的数据时，产生RX中断信号，通知ARM核从接收FIFO读取数据
* UART模块的中断信号
	* UART模块的中断信号包括RX\_INT， TX\_INT二个中断状态位，中断信号保持高电平有效，只有清除状态寄存器的相应位后，中断信号才变为无效的低电平。
	* 如果其中两个或三个中断位均使能且有效，则只有清除所有有效中断位，中断信号才变成无效的低电平，否则继续保持高电平。
